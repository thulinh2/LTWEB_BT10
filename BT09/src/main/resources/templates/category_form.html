<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>Form Category</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    input, button { padding: 6px; margin: 4px 0; width: 300px; }
    .error { color: red; margin-bottom: 12px; }
    .nav { margin-bottom: 12px; }
  </style>
</head>
<body>
  <div class="nav"><a href="/admin/category">‚Üê Back to Categories</a></div>

  <h1>
    <c:choose>
      <c:when test="${category.id != null}">Edit Category</c:when>
      <c:otherwise>Create Category</c:otherwise>
    </c:choose>
  </h1>

  <c:if test="${not empty errors}">
    <div class="error">
      <c:forEach var="err" items="${errors.allErrors}">
        <div>${err.defaultMessage}</div>
      </c:forEach>
    </div>
  </c:if>

  <form action="<c:choose>
                  <c:when test='${category.id != null}'>/admin/category/edit/${category.id}</c:when>
                  <c:otherwise>/admin/category/create</c:otherwise>
                </c:choose>" method="post">
    <label>Name:</label><br>
    <input type="text" name="name" value="${category.name}" required><br>

    <label>Images (URL):</label><br>
    <input type="text" name="images" value="${category.images}"><br>

    <button type="submit">
      <c:choose>
        <c:when test="${category.id != null}">Update</c:when>
        <c:otherwise>Create</c:otherwise>
      </c:choose>
    </button>
  </form>
</body>
</html>
